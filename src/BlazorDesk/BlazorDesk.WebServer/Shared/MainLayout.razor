@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@inject IJSRuntime JS
@inject NavBarLeftInjectableMenu navBarLeftInjectableMenu
<NavBar>
	<NavBarLeft>
		@if (!navBarLeftInjectableMenu.OverrideParentContent)
		{
			<NavBarMenuItem Link="/">Home</NavBarMenuItem>
			<NavBarMenuItem>Content</NavBarMenuItem><!-- defaults to # -->
		}
		@navBarLeftInjectableMenu.content <!-- Injectable for custom menu content per page -->
	</NavBarLeft>
	<NavBarSearch></NavBarSearch>
	<NavBarRight>
		<NavBarDropDown>
			<NavBarBadge Color="Color.Danger" Icon="far fa-comments">4</NavBarBadge>
			<NavBarDropDownMenu>
				<NavBarDropDownMenuItem>
					<UserMessage DateTime="dt.AddMinutes(-2)" ProfilePicture="_content/BlazorDesk.Components/dist/img/user7-128x128.jpg" Icon="fas fa-star">
						<UserName>Patricia Maundrell</UserName>
						<Message>Follow up</Message>
					</UserMessage>
				</NavBarDropDownMenuItem>
				<DropdownDivider />
				<NavBarDropDownMenuItem>
					<UserMessage DateTime="dt.AddHours(-4)" ProfilePicture="_content/BlazorDesk.Components/dist/img/user1-128x128.jpg" Icon="fas fa-star" IconColor="Color.Warning">
						<UserName>Brad Diesel</UserName>
						<Message>Call me whenever you can...</Message>
					</UserMessage>
				</NavBarDropDownMenuItem>
				<DropdownDivider />
				<NavBarDropDownMenuItem>
					<UserMessage DateTime="dt.AddDays(-8)" ProfilePicture="_content/BlazorDesk.Components/dist/img/user8-128x128.jpg" Icon="fas fa-star" IconColor="Color.Danger">
						<UserName>John Pierce</UserName>
						<Message>I got your message bro</Message>
					</UserMessage>
				</NavBarDropDownMenuItem>
				<DropdownDivider />
				<NavBarDropDownMenuItem>
					<UserMessage DateTime="dt.AddDays(-31)" ProfilePicture="_content/BlazorDesk.Components/dist/img/user3-128x128.jpg" Icon="fas fa-star">
						<UserName>Nora Silvester</UserName>
						<Message>The subject goes here</Message>
					</UserMessage>
				</NavBarDropDownMenuItem>
				<DropdownDivider />
				<DropdownFooter OnClick="SeeAllMessages">See All Messages</DropdownFooter>
			</NavBarDropDownMenu>
		</NavBarDropDown>
		<NavBarDropDown>
			<NavBarBadge Color="Color.Warning" Icon="far fa-bell">15</NavBarBadge>
			<NavBarDropDownMenu>
				<DropdownHeader>15 Notifications</DropdownHeader>
				<DropdownDivider></DropdownDivider>
				<NotificationMessage DateTime="dt.AddMinutes(-3)" Icon="fas fa-envelope mr-2">
					<Message>4 new messages</Message>
				</NotificationMessage>
				<DropdownDivider></DropdownDivider>
				<NotificationMessage DateTime="dt.AddHours(-12)" Icon="fas fa-users mr-2">
					<Message>8 friend requests</Message>
				</NotificationMessage>
				<DropdownDivider></DropdownDivider>
				<NotificationMessage DateTime="dt.AddDays(-2)" Icon="fas fa-file mr-2">
					<Message>3 new reports</Message>
				</NotificationMessage>
				<DropdownDivider></DropdownDivider>
				<DropdownFooter OnClick="SeeAllNotifications">See All Notifications</DropdownFooter>
			</NavBarDropDownMenu>
		</NavBarDropDown>
		<NavBarSideBarControl></NavBarSideBarControl>
	</NavBarRight>
</NavBar>
<SideBarContainer>
	<BrandLogo Link="" Logo="_content/BlazorDesk.Components/dist/img/BlazorDeskLogo.png">BlazorDesk 2020</BrandLogo>
	<SideBar>
		<!-- Sidebar user panel (optional) -->
		<SideBarUserPanel ImageEffect="ImageEffect.Circle" Elevation="Elevation.Three" UserImage="_content/BlazorDesk.Components/dist/img/user0-160x160.jpg">Grammy Leung</SideBarUserPanel>
		@*<SideBarSearch></SideBarSearch>*@
	<SideBarMenu>
		<SideBarTreeView MenuState="MenuState.Open" Icon="fas fa-tachometer-alt">
			<Title>Dashboard</Title>
			<Items>
				<SideBarMenuItem Icon="far fa-circle" Link="Dashboard/Dashboard1">
					Dashboard v1
				</SideBarMenuItem>
				<SideBarMenuItem Icon="far fa-circle" Link="Dashboard/Dashboard2">
					Dashboard v2
				</SideBarMenuItem>
				<SideBarMenuItem Icon="far fa-circle" Link="Dashboard/Dashboard3">
					Dashboard v3
				</SideBarMenuItem>
			</Items>
		</SideBarTreeView>
		<SideBarMenuItem Link="widgets" Icon="fas fa-th">
			Widgets
		</SideBarMenuItem>
		<SideBarTreeView MenuState="MenuState.Closed" Icon="fas fa-copy">
			<Title>Layout Options</Title>
			<Items>
				<SideBarMenuItem Icon="far fa-circle" Link="index1">
					Grid System
				</SideBarMenuItem>
			</Items>
		</SideBarTreeView>
		<SideBarTreeView MenuState="MenuState.Open" Icon="fas fa-tachometer-alt">
			<Title>Starter Pages</Title>
			<Items>
				<SideBarMenuItem Icon="far fa-circle" Link="starter-pages/active-page">
					Active Page
				</SideBarMenuItem>
				<SideBarMenuItem Icon="far fa-circle">
					Inactive Page
				</SideBarMenuItem>
			</Items>
		</SideBarTreeView>
		<SideBarTreeView MenuState="MenuState.Open" Icon="fas fa-tachometer-alt">
			<Title>Content Injections</Title>
			<Items>
				<SideBarMenuItem Icon="far fa-circle" Link="injections/navbar-left">
					NavBar Left
				</SideBarMenuItem>
				<SideBarMenuItem Icon="far fa-circle" Link="injections/navbar-left-override">
					NavBar Left Override
				</SideBarMenuItem>
			</Items>
		</SideBarTreeView>
		<SideBarTreeView MenuState="MenuState.Closed" Icon="fas fa-tree">
			<Title>UI Elements</Title>
			<Items>
				<SideBarMenuItem Icon="far fa-circle" Link="ui/general">
					General
				</SideBarMenuItem>
				<SideBarMenuItem Icon="far fa-circle" Link="ui/buttons">
					Buttons
				</SideBarMenuItem>
				<SideBarMenuItem Link="ui/navbar" Icon="far fa-circle">
					Navbar & Tabs
				</SideBarMenuItem>
			</Items>
		</SideBarTreeView>
		<SideBarTreeView MenuState="MenuState.Closed" Icon="fas fa-edit">
			<Title>Forms</Title>
			<Items>
				<SideBarMenuItem Icon="far fa-circle" Link="forms/general">
					General Elements
				</SideBarMenuItem>
				<SideBarMenuItem Icon="far fa-circle" Link="forms/advanced">
					Advanced Elements
				</SideBarMenuItem>
			</Items>
		</SideBarTreeView>
		<SideBarMenuItem Link="simple-link" Icon="fas fa-th">
			Simple Link
			<span class="right badge badge-danger">New</span>
		</SideBarMenuItem>
	</SideBarMenu>
	</SideBar>
</SideBarContainer>
<ContentWrapper>
	@Body
</ContentWrapper>
<ControlSideBar>Hello World!</ControlSideBar>
<MainFooter>
	<Default>
		<strong>Copyright &copy; @DateTime.Now.Year BlazorDesk.</strong> All rights reserved.
	</Default>
	<Right>
		Maintained by BlazorDesk
	</Right>
</MainFooter>
@code {
	protected override void OnParametersSet()
	{
		// content = null; for refreshing custom menu injectables per page.
		// no override; reset default to show parent menu content items.
		navBarLeftInjectableMenu.SetContent(null, false);
	}
}
@code {
	private DateTime dt = DateTime.Now;

	private void SeeAllMessages(Tuple<IDropdownFooter, MouseEventArgs> args)
	{
		NavigationManager.NavigateTo("messages/see-all-messages");
	}

	private void SeeAllNotifications(Tuple<IDropdownFooter, MouseEventArgs> args)
	{
		NavigationManager.NavigateTo("messages/see-all-notifications");
	}

}